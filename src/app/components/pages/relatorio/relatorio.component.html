<div class="container">
    <h1>Relatorio</h1>
    <mat-card>
        <mat-card-content>
              <mat-stepper orientation="vertical" [linear]="isLinear" #stepper>
                <mat-step [stepControl]="firstFormGroup">
                  <form [formGroup]="firstFormGroup">
                    <ng-template matStepLabel>Selecione o tipo de relatorio</ng-template>
                    <mat-form-field class="mat-select">
                        <mat-label>Tipos de relatorio</mat-label>
                        <mat-select [formControl]="relatorioControl" required >
                            <mat-option *ngFor="let report of relatorio" [value]="report.ReportID">
                                {{report.Name}}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="relatorioControl.hasError('required')">Escolha um tipo de relatorio</mat-error>
                    </mat-form-field>
                    <div>
                      <button mat-button matStepperNext *ngIf="relatorioControl.value">Next</button>
                    </div>
                  </form>
                </mat-step>
                <mat-step [stepControl]="secondFormGroup">
                  <form [formGroup]="secondFormGroup">
                    <ng-template matStepLabel>Selecione um intervalo de data</ng-template>
            
                        <div class="date-form">
                            <mat-form-field>
                                <mat-label>Selecione o intervalo de data</mat-label>
                                <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
                                    <input matStartDate formControlName="start" placeholder="Start date">
                                    <input matEndDate formControlName="end" placeholder="End date">
                                </mat-date-range-input>
                                <mat-hint>DD/MM/YYYY – DD/MM/YYYY</mat-hint>
                                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-date-range-picker #picker></mat-date-range-picker>
                                <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Data inicial
                                    Inválida</mat-error>
                                <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Data final
                                    Inválida</mat-error>
                            </mat-form-field>
                        </div>
                      
                    <div>
                      <button mat-button matStepperPrevious>Back</button>
                      <button mat-button matStepperNext>Next</button>
                    </div>
                  </form>
                </mat-step>
                <mat-step>
                  <ng-template matStepLabel>Gerar relatorio</ng-template>
                  <p>Clique em <strong>Baixar</strong>  para gerar o relatorio</p>
                  <div>
                    <button mat-button matStepperPrevious>Back</button>
                    <button mat-button (click)="generateReport()">Baixar</button>
                  </div>
                </mat-step>
              </mat-stepper>
              
        </mat-card-content>
    </mat-card>
</div>